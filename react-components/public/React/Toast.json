[{"type":"file","name":"ForShow.tsx","ext":".tsx","path":"C:\\Users\\郝洪坤\\Desktop\\FrontEnd\\components-show\\react-components\\src\\components-show\\Toast\\ForShow.tsx","content":"<pre><code><span class=\"line\"><span style=\"color:#4D9375\">import</span><span style=\"color:#BD976A\"> React</span><span style=\"color:#666666\">,</span><span style=\"color:#666666\"> {</span><span style=\"color:#BD976A\"> useCallback</span><span style=\"color:#666666\"> }</span><span style=\"color:#4D9375\"> from</span><span style=\"color:#C98A7D77\"> \"</span><span style=\"color:#C98A7D\">react</span><span style=\"color:#C98A7D77\">\"</span></span>\n<span class=\"line\"><span style=\"color:#4D9375\">import</span><span style=\"color:#666666\"> {</span><span style=\"color:#BD976A\"> createToast</span><span style=\"color:#666666\"> }</span><span style=\"color:#4D9375\"> from</span><span style=\"color:#C98A7D77\"> \"</span><span style=\"color:#C98A7D\">./ToastManager</span><span style=\"color:#C98A7D77\">\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#CB7676\">const</span><span style=\"color:#80A665\"> ClickToToast</span><span style=\"color:#666666\">: </span><span style=\"color:#5DA994\">React</span><span style=\"color:#666666\">.</span><span style=\"color:#5DA994\">FC</span><span style=\"color:#666666\"> =</span><span style=\"color:#666666\"> ()</span><span style=\"color:#666666\"> =></span><span style=\"color:#666666\"> {</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#CB7676\">  const</span><span style=\"color:#BD976A\"> toast</span><span style=\"color:#666666\"> =</span><span style=\"color:#80A665\"> useCallback</span><span style=\"color:#666666\">(()</span><span style=\"color:#666666\"> =></span><span style=\"color:#666666\"> {</span></span>\n<span class=\"line\"><span style=\"color:#80A665\">    createToast</span><span style=\"color:#666666\">(</span><span style=\"color:#C98A7D77\">'</span><span style=\"color:#C98A7D\">hello world</span><span style=\"color:#C98A7D77\">'</span><span style=\"color:#666666\">)</span></span>\n<span class=\"line\"><span style=\"color:#666666\">  },</span><span style=\"color:#666666\"> [])</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#4D9375\">  return</span><span style=\"color:#666666\"> (</span></span>\n<span class=\"line\"><span style=\"color:#666666\">    &#x3C;</span><span style=\"color:#4D9375\">button</span><span style=\"color:#BD976A\"> onClick</span><span style=\"color:#666666\">={()</span><span style=\"color:#666666\"> =></span><span style=\"color:#80A665\"> toast</span><span style=\"color:#666666\">()}</span><span style=\"color:#BD976A\"> className</span><span style=\"color:#666666\">=</span><span style=\"color:#C98A7D77\">\"</span><span style=\"color:#C98A7D\">bg-blue-500 text-white px-4 py-2 rounded cursor-pointer</span><span style=\"color:#C98A7D77\">\"</span><span style=\"color:#666666\">></span></span>\n<span class=\"line\"><span style=\"color:#DBD7CAEE\">      click</span></span>\n<span class=\"line\"><span style=\"color:#666666\">    &#x3C;/</span><span style=\"color:#4D9375\">button</span><span style=\"color:#666666\">></span></span>\n<span class=\"line\"><span style=\"color:#666666\">  )</span></span>\n<span class=\"line\"><span style=\"color:#666666\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#4D9375\">export</span><span style=\"color:#4D9375\"> default</span><span style=\"color:#BD976A\"> ClickToToast</span></span>\n<span class=\"line\"></span></code></pre>"},{"type":"file","name":"index.ts","ext":".ts","path":"C:\\Users\\郝洪坤\\Desktop\\FrontEnd\\components-show\\react-components\\src\\components-show\\Toast\\index.ts","content":"<pre><code><span class=\"line\"><span style=\"color:#4D9375\">import</span><span style=\"color:#BD976A\"> ClickToToast</span><span style=\"color:#4D9375\"> from</span><span style=\"color:#C98A7D77\"> \"</span><span style=\"color:#C98A7D\">./ForShow</span><span style=\"color:#C98A7D77\">\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#4D9375\">export</span><span style=\"color:#4D9375\"> default</span><span style=\"color:#BD976A\"> ClickToToast</span></span>\n<span class=\"line\"></span></code></pre>"},{"type":"file","name":"Toast.tsx","ext":".tsx","path":"C:\\Users\\郝洪坤\\Desktop\\FrontEnd\\components-show\\react-components\\src\\components-show\\Toast\\Toast.tsx","content":"<pre><code><span class=\"line\"><span style=\"color:#4D9375\">import</span><span style=\"color:#BD976A\"> React</span><span style=\"color:#666666\">,</span><span style=\"color:#666666\"> {</span><span style=\"color:#BD976A\"> useEffect</span><span style=\"color:#666666\">,</span><span style=\"color:#BD976A\"> useState</span><span style=\"color:#666666\"> }</span><span style=\"color:#4D9375\"> from</span><span style=\"color:#C98A7D77\"> '</span><span style=\"color:#C98A7D\">react</span><span style=\"color:#C98A7D77\">'</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#CB7676\">type</span><span style=\"color:#5DA994\"> ToastProps</span><span style=\"color:#666666\"> =</span><span style=\"color:#666666\"> {</span></span>\n<span class=\"line\"><span style=\"color:#BD976A\">  message</span><span style=\"color:#666666\">: </span><span style=\"color:#5DA994\">string</span></span>\n<span class=\"line\"><span style=\"color:#BD976A\">  duration</span><span style=\"color:#666666\">: </span><span style=\"color:#5DA994\">number</span></span>\n<span class=\"line\"><span style=\"color:#666666\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#CB7676\">const</span><span style=\"color:#80A665\"> Toast</span><span style=\"color:#666666\">: </span><span style=\"color:#5DA994\">React</span><span style=\"color:#666666\">.</span><span style=\"color:#5DA994\">FC</span><span style=\"color:#666666\">&#x3C;</span><span style=\"color:#5DA994\">ToastProps</span><span style=\"color:#666666\">> =</span><span style=\"color:#666666\"> ({</span><span style=\"color:#BD976A\"> message</span><span style=\"color:#666666\">,</span><span style=\"color:#BD976A\"> duration</span><span style=\"color:#666666\"> })</span><span style=\"color:#666666\"> =></span><span style=\"color:#666666\"> {</span></span>\n<span class=\"line\"><span style=\"color:#CB7676\">  const</span><span style=\"color:#666666\"> [</span><span style=\"color:#BD976A\">isVisible</span><span style=\"color:#666666\">,</span><span style=\"color:#BD976A\"> setIsVisible</span><span style=\"color:#666666\">]</span><span style=\"color:#666666\"> =</span><span style=\"color:#80A665\"> useState</span><span style=\"color:#666666\">(</span><span style=\"color:#4D9375\">true</span><span style=\"color:#666666\">)</span></span>\n<span class=\"line\"><span style=\"color:#CB7676\">  const</span><span style=\"color:#666666\"> [</span><span style=\"color:#BD976A\">opacity</span><span style=\"color:#666666\">,</span><span style=\"color:#BD976A\"> setOpacity</span><span style=\"color:#666666\">]</span><span style=\"color:#666666\"> =</span><span style=\"color:#80A665\"> useState</span><span style=\"color:#666666\">(</span><span style=\"color:#4C9A91\">0</span><span style=\"color:#666666\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#80A665\">  useEffect</span><span style=\"color:#666666\">(()</span><span style=\"color:#666666\"> =></span><span style=\"color:#666666\"> {</span></span>\n<span class=\"line\"><span style=\"color:#80A665\">    setOpacity</span><span style=\"color:#666666\">(</span><span style=\"color:#4C9A91\">1</span><span style=\"color:#666666\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#CB7676\">    const</span><span style=\"color:#BD976A\"> timer1</span><span style=\"color:#666666\"> =</span><span style=\"color:#80A665\"> setTimeout</span><span style=\"color:#666666\">(()</span><span style=\"color:#666666\"> =></span><span style=\"color:#666666\"> {</span></span>\n<span class=\"line\"><span style=\"color:#80A665\">      setOpacity</span><span style=\"color:#666666\">(</span><span style=\"color:#4C9A91\">0</span><span style=\"color:#666666\">)</span></span>\n<span class=\"line\"><span style=\"color:#666666\">    },</span><span style=\"color:#BD976A\"> duration</span><span style=\"color:#666666\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#CB7676\">    const</span><span style=\"color:#BD976A\"> timer2</span><span style=\"color:#666666\"> =</span><span style=\"color:#80A665\"> setTimeout</span><span style=\"color:#666666\">(()</span><span style=\"color:#666666\"> =></span><span style=\"color:#666666\"> {</span></span>\n<span class=\"line\"><span style=\"color:#80A665\">      setIsVisible</span><span style=\"color:#666666\">(</span><span style=\"color:#4D9375\">false</span><span style=\"color:#666666\">)</span></span>\n<span class=\"line\"><span style=\"color:#666666\">    },</span><span style=\"color:#BD976A\"> duration</span><span style=\"color:#CB7676\"> +</span><span style=\"color:#4C9A91\"> 500</span><span style=\"color:#666666\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#4D9375\">    return</span><span style=\"color:#666666\"> ()</span><span style=\"color:#666666\"> =></span><span style=\"color:#666666\"> {</span></span>\n<span class=\"line\"><span style=\"color:#80A665\">      clearTimeout</span><span style=\"color:#666666\">(</span><span style=\"color:#BD976A\">timer1</span><span style=\"color:#666666\">)</span></span>\n<span class=\"line\"><span style=\"color:#80A665\">      clearTimeout</span><span style=\"color:#666666\">(</span><span style=\"color:#BD976A\">timer2</span><span style=\"color:#666666\">)</span></span>\n<span class=\"line\"><span style=\"color:#666666\">    }</span></span>\n<span class=\"line\"><span style=\"color:#666666\">  },</span><span style=\"color:#666666\"> [])</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#4D9375\">  return</span><span style=\"color:#666666\"> (</span></span>\n<span class=\"line\"><span style=\"color:#BD976A\">    isVisible</span><span style=\"color:#CB7676\"> &#x26;&#x26;</span><span style=\"color:#666666\"> (</span></span>\n<span class=\"line\"><span style=\"color:#666666\">      &#x3C;</span><span style=\"color:#4D9375\">div</span></span>\n<span class=\"line\"><span style=\"color:#BD976A\">        className</span><span style=\"color:#666666\">={</span><span style=\"color:#C98A7D77\">`</span><span style=\"color:#C98A7D\">fixed top-1/3 left-1/2 transform </span></span>\n<span class=\"line\"><span style=\"color:#C98A7D\">        -translate-x-1/2 -translate-y-1/2 bg-gray-800 </span></span>\n<span class=\"line\"><span style=\"color:#C98A7D\">        text-white p-2 rounded z-[9999] transition-opacity </span></span>\n<span class=\"line\"><span style=\"color:#C98A7D\">        duration-500 opacity-</span><span style=\"color:#4D9375\">${</span><span style=\"color:#C98A7D\">opacity</span><span style=\"color:#4D9375\">}</span><span style=\"color:#C98A7D77\">`</span><span style=\"color:#666666\">}</span></span>\n<span class=\"line\"><span style=\"color:#666666\">      ></span></span>\n<span class=\"line\"><span style=\"color:#666666\">        &#x3C;</span><span style=\"color:#4D9375\">div</span><span style=\"color:#BD976A\"> className</span><span style=\"color:#666666\">=</span><span style=\"color:#C98A7D77\">'</span><span style=\"color:#C98A7D\">inline-block mx-2.5</span><span style=\"color:#C98A7D77\">'</span><span style=\"color:#666666\">>{</span><span style=\"color:#BD976A\">message</span><span style=\"color:#666666\">}&#x3C;/</span><span style=\"color:#4D9375\">div</span><span style=\"color:#666666\">></span></span>\n<span class=\"line\"><span style=\"color:#666666\">      &#x3C;/</span><span style=\"color:#4D9375\">div</span><span style=\"color:#666666\">></span></span>\n<span class=\"line\"><span style=\"color:#666666\">    )</span></span>\n<span class=\"line\"><span style=\"color:#666666\">  )</span></span>\n<span class=\"line\"><span style=\"color:#666666\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#4D9375\">export</span><span style=\"color:#4D9375\"> default</span><span style=\"color:#BD976A\"> Toast</span></span>\n<span class=\"line\"></span></code></pre>"},{"type":"file","name":"ToastManager.tsx","ext":".tsx","path":"C:\\Users\\郝洪坤\\Desktop\\FrontEnd\\components-show\\react-components\\src\\components-show\\Toast\\ToastManager.tsx","content":"<pre><code><span class=\"line\"><span style=\"color:#4D9375\">import</span><span style=\"color:#BD976A\"> ReactDOM</span><span style=\"color:#4D9375\"> from</span><span style=\"color:#C98A7D77\"> '</span><span style=\"color:#C98A7D\">react-dom/client</span><span style=\"color:#C98A7D77\">'</span></span>\n<span class=\"line\"><span style=\"color:#4D9375\">import</span><span style=\"color:#BD976A\"> Toast</span><span style=\"color:#4D9375\"> from</span><span style=\"color:#C98A7D77\"> '</span><span style=\"color:#C98A7D\">./Toast</span><span style=\"color:#C98A7D77\">'</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#CB7676\">let</span><span style=\"color:#BD976A\"> toastRoot</span><span style=\"color:#666666\">: </span><span style=\"color:#5DA994\">ReactDOM</span><span style=\"color:#666666\">.</span><span style=\"color:#5DA994\">Root</span><span style=\"color:#666666\"> | </span><span style=\"color:#CB7676\">null</span><span style=\"color:#666666\"> =</span><span style=\"color:#CB7676\"> null</span></span>\n<span class=\"line\"><span style=\"color:#CB7676\">let</span><span style=\"color:#BD976A\"> toastId</span><span style=\"color:#666666\"> =</span><span style=\"color:#4C9A91\"> 0</span></span>\n<span class=\"line\"><span style=\"color:#4D9375\">export</span><span style=\"color:#CB7676\"> const</span><span style=\"color:#80A665\"> createToast</span><span style=\"color:#666666\"> =</span><span style=\"color:#666666\"> (</span><span style=\"color:#BD976A\">message</span><span style=\"color:#666666\">: </span><span style=\"color:#5DA994\">string</span><span style=\"color:#666666\">,</span><span style=\"color:#BD976A\"> duration</span><span style=\"color:#666666\"> =</span><span style=\"color:#4C9A91\"> 1000</span><span style=\"color:#666666\">)</span><span style=\"color:#666666\"> =></span><span style=\"color:#666666\"> {</span></span>\n<span class=\"line\"><span style=\"color:#4D9375\">  if</span><span style=\"color:#666666\"> (</span><span style=\"color:#BD976A\">toastRoot</span><span style=\"color:#CB7676\"> ===</span><span style=\"color:#CB7676\"> null</span><span style=\"color:#666666\">)</span><span style=\"color:#666666\"> {</span></span>\n<span class=\"line\"><span style=\"color:#CB7676\">    const</span><span style=\"color:#BD976A\"> container</span><span style=\"color:#666666\"> =</span><span style=\"color:#BD976A\"> document</span><span style=\"color:#666666\">.</span><span style=\"color:#80A665\">createElement</span><span style=\"color:#666666\">(</span><span style=\"color:#C98A7D77\">'</span><span style=\"color:#C98A7D\">div</span><span style=\"color:#C98A7D77\">'</span><span style=\"color:#666666\">)</span></span>\n<span class=\"line\"><span style=\"color:#BD976A\">    document</span><span style=\"color:#666666\">.</span><span style=\"color:#BD976A\">body</span><span style=\"color:#666666\">.</span><span style=\"color:#80A665\">appendChild</span><span style=\"color:#666666\">(</span><span style=\"color:#BD976A\">container</span><span style=\"color:#666666\">)</span></span>\n<span class=\"line\"><span style=\"color:#BD976A\">    toastRoot</span><span style=\"color:#666666\"> =</span><span style=\"color:#BD976A\"> ReactDOM</span><span style=\"color:#666666\">.</span><span style=\"color:#80A665\">createRoot</span><span style=\"color:#666666\">(</span><span style=\"color:#BD976A\">container</span><span style=\"color:#666666\">)</span></span>\n<span class=\"line\"><span style=\"color:#666666\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#BD976A\">  toastRoot</span><span style=\"color:#666666\">.</span><span style=\"color:#80A665\">render</span><span style=\"color:#666666\">(</span></span>\n<span class=\"line\"><span style=\"color:#666666\">    &#x3C;</span><span style=\"color:#B8A965\">Toast</span></span>\n<span class=\"line\"><span style=\"color:#BD976A\">      key</span><span style=\"color:#666666\">={</span><span style=\"color:#BD976A\">toastId</span><span style=\"color:#CB7676\">++</span><span style=\"color:#666666\">}</span></span>\n<span class=\"line\"><span style=\"color:#BD976A\">      message</span><span style=\"color:#666666\">={</span><span style=\"color:#BD976A\">message</span><span style=\"color:#666666\">}</span></span>\n<span class=\"line\"><span style=\"color:#BD976A\">      duration</span><span style=\"color:#666666\">={</span><span style=\"color:#BD976A\">duration</span><span style=\"color:#666666\">}</span></span>\n<span class=\"line\"><span style=\"color:#666666\">    /></span></span>\n<span class=\"line\"><span style=\"color:#666666\">  )</span></span>\n<span class=\"line\"><span style=\"color:#666666\">}</span></span>\n<span class=\"line\"></span></code></pre>"}]